{"version":3,"sources":["fbase.js","auth.js","SelectMenu.js","SlashMenu.js","notes.js","NewDocPopup.js","sharemenu.js","main.js","SharedNote.js","AppRouter.js","App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebaseInstance","authService","auth","dbService","firestore","Auth","onSocialClick","e","a","provider","GoogleAuthProvider","signInWithPopup","className","onClick","onMenuSelect","style","target","parentNode","value","node","window","getSelection","getRangeAt","startContainer","nodeName","color","backgroundColor","document","execCommand","SelectMenu","props","x","position","width","pos","top","y","scrollY","left","onImageUpload","theFile","files","reader","FileReader","onloadend","finish","result","readAsDataURL","SlashMenu","for","id","type","accept","onChange","getCaretCoordinates","selection","rangeCount","range","cloneRange","collapse","rect","getBoundingClientRect","Notes","onPaste","clipboardData","getData","extract","then","oembed","console","log","catch","err","trace","onKeyDownHandler","key","state","prevkey","preventDefault","setState","isSlashMenuOpen","menuPosition","mouseUp","isMenuOpen","render","currentDoc","createdAt","onMouseUp","onKeyDown","name","html","disabled","onChangeHandler","onMouseDown","onMouseDownHandler","spellCheck","SaveDoc","bind","this","collection","doc","update","removeAllRanges","React","Component","NewDocPopup","createNewDoc","onSubmit","autocomplete","ShareMenu","link","location","href","readonly","Main","userObj","selectNote","index","setHtml","docs","setCurrentDoc","fetchDocs","deleteNote","delete","useEffect","where","user","uid","get","obj","map","item","data","setDocs","useState","newDocForm","setNewDocForm","isShareMenuOpen","setisShareMenuOpen","signOut","docName","uuid","uuidv4","Date","now","set","SharedNote","match","params","res","exists","AppRouter","isLoggedIn","path","component","exact","App","setLoggedin","initialize","setInit","setUserObj","onAuthStateChanged","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0d63d97d.chunk.js","sourcesContent":["import firebase from \"firebase/app\"\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\"\r\nvar firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_API_KEY,\r\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n    databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n    projectId: process.env.REACT_APP_PROJECT_URL,\r\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_MESSAGING_ID,\r\n    appId: process.env.REACT_APP_APP_ID \r\n  };\r\n\r\nfirebase.initializeApp(firebaseConfig)\r\n\r\nconst firebaseInstance = firebase;\r\nexport default firebaseInstance\r\nexport const authService = firebase.auth()\r\nexport const dbService = firebase.firestore()","import React from 'react'\nimport firebaseInstance, { authService } from './fbase'\n\nconst Auth = () => {\n// const[email, setEmail]=useState('')\n// const[password, setPassword]=useState('')\n\n\n// const onChange = (e) => {\n//   const{target : {name,value}} = e\n//   if(name=='Email'){\n//     setEmail(value)\n//   }\n//   else if(name=='Password'){\n//     setPassword(value)\n//   }\n// }\n\nconst onSocialClick = async (e) => {\n  let provider = new firebaseInstance.auth.GoogleAuthProvider();\n  await authService.signInWithPopup(provider)\n}\n  \n    return(\n      <div>\n        <div>\n        </div>\n \n      <div className='form-container'>\n      <div className='form'>\n      <h1>notebanalo</h1>\n        <button onClick={onSocialClick}>Login with Google</button>\n      </div>\n      </div>\n      </div>\n\n    );\n}\n\n\nexport default Auth;\n","import './selectmenu.css'\r\n\r\nfunction onMenuSelect(e){\r\n    const style=e.target.parentNode.value || e.target.value\r\n    const node = window.getSelection().getRangeAt(0).startContainer.parentNode.nodeName\r\n    const color=window.getSelection().getRangeAt(0).startContainer.parentNode.style.backgroundColor\r\n    if(node==='H1' || node==='H2' || node==='H3'){\r\n        if(style==node){\r\n            document.execCommand('formatblock',false,'div')\r\n        }\r\n        else{\r\n            document.execCommand('formatblock',false,style)\r\n        }\r\n    }\r\n    else if((style==='H1' || style==='H2' || style==='H3') && node!=='LI'){\r\n        if(node==='B' || node==='I' || node==='STRIKE' || node==='U' ){\r\n        \r\n            document.execCommand('removeFormat',false);\r\n        }\r\n        document.execCommand('formatblock',false,style)\r\n    }\r\n    else {\r\n        document.execCommand(style,false);\r\n    }\r\n    if(style==='hiliteColor'){\r\n        if(color!==''){\r\n            document.execCommand('removeFormat',false);\r\n        }\r\n        else{\r\n            document.execCommand('hiliteColor',false, '#DAF7A6')\r\n        }\r\n    }\r\n    if(style==='formatBlock'){\r\n        document.execCommand(style,false);\r\n    }\r\n    \r\n}\r\n\r\nconst SelectMenu = (props) => {\r\n    const x =props.position.x + props.position.width/2 -200\r\n    const y =props.position.y-30 + window.scrollY\r\n    const pos = {position : \"absolute\", top: y, left: x }\r\n    return( \r\n        <div style={pos} className='menu-container'>\r\n            <div  className='menu'>\r\n                <button onClick={onMenuSelect} value='italic'> <i className=\"fas fa-italic\"></i></button>\r\n                <button onClick={onMenuSelect} value='bold'> <i className=\"fas fa-bold\"></i> </button>\r\n                <button onClick={onMenuSelect} value='underline'> <i className=\"fas fa-underline\"></i> </button>\r\n                <button onClick={onMenuSelect} value='strikethrough'> <i className=\"fas fa-strikethrough\"></i> </button>\r\n                <button onClick={onMenuSelect} value='H1'> <b>H1</b>  </button>\r\n                <button onClick={onMenuSelect} value='H2'> <b>H2</b>  </button>\r\n                <button onClick={onMenuSelect} value='H3'> <b>H3</b></button>\r\n                <button onClick={onMenuSelect} value='insertOrderedList'> <i className=\"fas fa-list-ol\"></i> </button>\r\n                <button onClick={onMenuSelect} value='insertUnorderedList'> <i className=\"fas fa-list-ul\"></i></button>\r\n                <button onClick={onMenuSelect} value='hiliteColor'> <i className=\"fas fa-highlighter\"></i></button>\r\n            </div>\r\n        </div>\r\n    )\r\n  }\r\n\r\n  export default SelectMenu","import { useState } from 'react';\r\nimport './selectmenu.css'\r\n\r\nfunction onMenuSelect(e){\r\n    const style=e.target.parentNode.value || e.target.value\r\n    if(style=='insertHorizontalRule'){\r\n        document.execCommand(style,false);\r\n        document.execCommand('insertHtml',false,'<br>');\r\n    }\r\n    if(style=='formatBlock'){\r\n        document.execCommand(style,false);\r\n    }\r\n}\r\nconst onImageUpload = (e) => {\r\n    const {target:{files}} = e;\r\n    const theFile= files[0];\r\n    const reader= new FileReader();\r\n    reader.onloadend = (finish) => {\r\n        document.execCommand('insertHTML', false, `<div contenteditable='true'><img src=${reader.result} /> </div>`)\r\n\r\n    }\r\n    reader.readAsDataURL(theFile)\r\n}   \r\n\r\nconst SlashMenu = (props) => {\r\n    const x =props.position.x\r\n    const y =props.position.y + window.scrollY\r\n    const pos = {position : \"absolute\", top: y, left: x }\r\n    return( \r\n        <div style={pos} className='menu-container'>\r\n            <div  className='menu'>\r\n                <label for=\"file-upload\" className=\"custom-file-upload\">\r\n                <i className=\"fas fa-upload\"></i>\r\n                </label>\r\n                <input id='file-upload' type='file' accept='image/*' onChange={onImageUpload} className='image-upload'/>\r\n                <button onClick={onMenuSelect} value='insertHorizontalRule'> divider </button>\r\n            </div>\r\n        </div>\r\n    )\r\n  }\r\n\r\n  export default SlashMenu","import ContentEditable from \"react-contenteditable\";\nimport React from \"react\";\nimport \"./app.css\";\nimport SelectMenu from \"./SelectMenu\";\nimport SlashMenu from \"./SlashMenu\";\nimport { dbService } from \"./fbase\";\nimport {\n  extract,\n} from 'oembed-parser';\n// var htmlcopy='<div class=\"editable\" spellcheck=\"false\" contenteditable=\"true\"><h1>Heading </h1>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. <br><hr><h1>Heading 2</h1><div style=\"text-align: left;\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt <b>ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud </b>exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehe<i>nderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt m</i>ollit anim id est laborum.</div><div style=\"text-align: right; \"><div><br style=\"text-align: start;\"></div></div><div><br></div><p> </p></div>'\nconst getCaretCoordinates = () => {\n  let x, y, width;\n  const selection = window.getSelection();\n  if (selection.rangeCount !== 0) {\n    const range = selection.getRangeAt(0).cloneRange();\n    range.collapse(false);\n    const rect = range.getBoundingClientRect();\n    if (rect) {\n      x = rect.left;\n      y = rect.top;\n      width = rect.width;\n    }\n  }\n  return { x, y, width };\n};\n\nclass Notes extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentDoc: this.props.currentDoc,\n      html: this.props.html,\n      isMenuOpen: false,\n      isSlashMenuOpen: false,\n      menuPosition: {\n        x: null,\n        y: null,\n        width: null,\n      },\n      prevkey: null,\n    };\n    this.onMouseDownHandler = this.onMouseDownHandler.bind(this);\n    this.onChangeHandler = this.onChangeHandler.bind(this);\n    this.mouseUp = this.mouseUp.bind(this);\n    this.onKeyDownHandler = this.onKeyDownHandler.bind(this);\n    this.SaveDoc = this.SaveDoc.bind(this);\n    this.onPaste=this.onPaste.bind(this)\n  }\n  componentDidUpdate() {\n\n    if (this.props.currentDoc.id != this.state.currentDoc.id) {\n      this.setState({\n        currentDoc: this.props.currentDoc,\n        html: this.props.html,\n      });\n    }\n  }\n  onPaste =(e) =>{\n    const embed=e.clipboardData.getData('text')\n    const url = 'https://www.youtube.com/watch?v=8jPQjjsBbIc';\n\n    extract(url).then((oembed) => {\n      console.log(oembed);\n    }).catch((err) => {\n      console.trace(err);\n    });\n  }\n\n  \n  SaveDoc() {\n    dbService\n      .collection(\"notes\")\n      .doc(this.props.currentDoc.id)\n      .update({\n        doc: this.state.html,\n      })\n      .then(() => {\n        console.log(\"succesfully added\");\n      });\n  }\n  onKeyDownHandler = (e) => {\n    if (e.key == \".\" && this.state.prevkey == \".\") {\n      e.preventDefault();\n      const { x, y, width } = getCaretCoordinates();\n      this.setState({\n        isSlashMenuOpen: true,\n        menuPosition: { x, y, width },\n        prevkey: null,\n      });\n    } else if (e.key == \".\") {\n      this.setState({\n        prevkey: \".\",\n      });\n    } else {\n      this.setState({\n        isSlashMenuOpen: false,\n        prevkey: null,\n      });\n    }\n  };\n  mouseUp = () => {\n    const selection = document.getSelection();\n    if (selection.type != \"None\") {\n      const { x, y, width } = getCaretCoordinates();\n      if (selection.type != \"Caret\") {\n        this.setState({\n          isMenuOpen: true,\n          menuPosition: { x, y, width },\n          isSlashMenuOpen: false,\n        });\n      }\n    }\n  };\n  onMouseDownHandler(e) {\n    document.getSelection().removeAllRanges();\n    if (this.state.isMenuOpen) {\n      this.setState({\n        isMenuOpen: false,\n        isSlashMenuOpen: false,\n      });\n    }\n    if (this.state.isSlashMenuOpen) {\n      this.setState({\n        isMenuOpen: false,\n        isSlashMenuOpen: false,\n      });\n    }\n  }\n\n  onChangeHandler(e) {\n    this.setState({ html: e.target.value, isMenuOpen: false });\n  }\n\n  render = () => {\n    const date = this.state.currentDoc.createdAt\n    const dateobj = date\n    return (\n      <div>\n        <div\n          className=\"App default\"\n          onMouseUp={this.mouseUp}\n          onKeyDown={this.onKeyDownHandler}\n        >\n          <div className=\"sheet\">\n            {this.state.isMenuOpen && (\n              <SelectMenu position={this.state.menuPosition} />\n            )}\n            {this.state.isSlashMenuOpen && (\n              <SlashMenu position={this.state.menuPosition} />\n            )}\n            <div>\n              <b>\n              <p className=\"editable doc-title\">{this.state.currentDoc.name}</p>\n              </b>\n            </div>\n            <ContentEditable\n              className=\"editable\"\n              html={this.state.html}\n              disabled={false}\n              onChange={this.onChangeHandler}\n              onMouseDown={this.onMouseDownHandler}\n              onPaste={this.onPaste}\n              spellCheck=\"false\"\n            />\n            <button onClick={this.SaveDoc} className=\"save-btn\">\n              save doc\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n}\n\nexport default Notes;\n","const NewDocPopup = ({createNewDoc}) =>{\r\n    return(\r\n        <div className='new-doc-popup'>\r\n                <form onSubmit={createNewDoc}>\r\n                <p>enter the name of the document</p>\r\n                <input type=\"text\" name=\"docName\" autocomplete=\"off\"  />\r\n                <input type=\"submit\" />\r\n                </form>\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default NewDocPopup","const ShareMenu = ({currentDoc}) => {\r\nconst link = `${window.location.href}notes/${currentDoc.id}`\r\n    return(\r\n     <div className='share-menu-container'>\r\n         <div className='share-menu'>\r\n             <p>copy the link below to share</p>\r\n            <input type=\"text\" value={link} readonly/>\r\n         </div>\r\n     </div>\r\n )\r\n}\r\nexport default ShareMenu","import React, { useEffect, useState } from \"react\";\nimport { authService, dbService } from \"./fbase\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport \"./app.css\";\nimport Notes from \"./notes\";\nimport NewDocPopup from \"./NewDocPopup\";\nimport ShareMenu from './sharemenu'\n\n\nconst Main = ({ userObj }) => {\n  const docsarr = [\n    {\n      id: \"\",\n      name: \"\",\n      doc: \"\",\n    },\n  ];\n\n  const onShare = (e) => {\n    console.log(e);\n  }\n\n  const signOut = () => {\n    authService.signOut();\n  };\n\n  const selectNote = (e) => {\n    const index = e.target.id;\n    setHtml(docs[index].doc);\n    setCurrentDoc(docs[index]);\n    fetchDocs();\n  };\n\n  const shareDoc = (e) => {\n    setisShareMenuOpen(!isShareMenuOpen)\n  };\n\n  const deleteNote = (e) => {\n    const index = e.target.parentNode.id || e.target.id;\n    dbService\n      .collection(\"notes\")\n      .doc(docs[index].id)\n      .delete()\n      .then(function () {\n        console.log(\"Document successfully deleted!\");\n        fetchDocs();\n      });\n    const deleteText =\n      '<div class=\"editable\" spellcheck=\"false\" contenteditable=\"false\">Document Deleted</div>';\n\n    setHtml(deleteText);\n  };\n\n  const newDoc = () => {\n    setNewDocForm(true);\n  };\n\n  const createNewDoc = (e) => {\n    setNewDocForm(false);\n    e.preventDefault();\n    console.log(e.target.docName.value);\n    const docName = e.target.docName.value || \"untitled\";\n    var uuid = uuidv4();\n    var data = {\n      user: userObj.user.uid,\n      id: uuid,\n      createdAt: Date.now(),\n      name: docName,\n      doc:\n        \"You can highlight this text to apply styles. type the period (.) key twice for more option\",\n    };\n    dbService.collection(\"notes\").doc(uuid).set(data);\n\n    fetchDocs();\n  };\n\n  useEffect(() => {\n    fetchDocs();\n  }, []);\n\n  const fetchDocs = () => {\n    if (userObj) {\n      dbService\n        .collection(\"notes\")\n        .where(\"user\", \"==\", userObj.user.uid)\n        .get()\n        .then((doc) => {\n          const obj = doc.docs.map((item) => {\n            return item.data();\n          });\n          setDocs([...obj]);\n        });\n    }\n  };\n  const initText =\n    '<div class=\"editable\" spellcheck=\"false\" contenteditable=\"false\">create or select a document to show its content</div>';\n  const [docs, setDocs] = useState(docsarr);\n  const [html, setHtml] = useState(initText);\n  const [currentDoc, setCurrentDoc] = useState(docs[0]);\n  const [newDocForm, setNewDocForm] = useState(false);\n  const [isShareMenuOpen, setisShareMenuOpen] = useState(false);\n\n  return (\n    <div>\n      <nav>\n        <p className=\"logo\">notebanalo</p>\n        <button onClick={signOut} className=\"sign-out-btn\">\n          sign out\n        </button>\n        <button onClick={shareDoc} className=\"sign-out-btn\">\n          Share\n        </button>\n      </nav>\n\n      {newDocForm && <NewDocPopup createNewDoc={createNewDoc} />}\n      {isShareMenuOpen && <ShareMenu currentDoc={currentDoc}/>}\n      <div className=\"sidebar\">\n        <button onClick={newDoc} className=\"new-doc-btn\">\n          new doc\n        </button>\n        <div>\n          {docs.map((item, index) => {\n            return (\n              <div className=\"sidebar-btn-container\" key={index}>\n                <button className=\"sidebar-btn\" onClick={selectNote} id={index}>\n                  {item.name}\n                </button>\n                <button className=\"delete-btn\" onClick={deleteNote} id={index}>\n                  <i className=\"fas fa-trash-alt\"></i>\n                </button>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n      <Notes userObj={userObj} html={html} currentDoc={currentDoc} />\n    </div>\n  );\n};\n\nexport default Main;\n","import { useEffect, useState } from \"react\"\r\nimport ContentEditable from 'react-contenteditable'\r\n\r\nimport  { dbService } from './fbase'\r\n\r\n\r\n\r\n\r\nconst SharedNote = ({match}) => {\r\nconst[html,setHtml]=useState('')\r\n\r\nuseEffect(()=>{\r\n    dbService\r\n    .collection(\"notes\").doc(match.params.id)\r\n    .get()\r\n    .then((res)=>{\r\n        if (res.exists) {\r\n            setHtml(res.data().doc)\r\n        }\r\n    })\r\n},[])\r\n\r\n\r\n\r\n    return(\r\n        <div className=\"App default\">\r\n            <div className='sheet-read-only'>\r\n            <ContentEditable\r\n            className='editable'\r\n            html={html}\r\n            disabled={true}\r\n            spellCheck='false'\r\n            />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SharedNote","import Auth from './auth'\nimport Main from './main'\nimport SharedNote from './SharedNote'\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom'\n\nconst AppRouter = ({isLoggedIn, userObj}) => {\n    return(\n      <Router>\n        <Switch>\n          <Route path='/:id' component={SharedNote}>\n          </Route>\n          {isLoggedIn ? (\n            <>\n              <Route exact path='/'>\n                <Main userObj={userObj}/>\n              </Route>\n            </>\n          ):(\n            <Route exact path=''>\n              <Auth />\n            </Route>\n            )\n          }\n\n        </Switch>\n      </Router>\n \n    );\n}\n\n\nexport default AppRouter;\n","import React, { useEffect, useState } from 'react'\nimport './app.css'\nimport AppRouter from './AppRouter'\nimport {authService} from './fbase'\n\nconst App = () => {\n\n  \n  const[isLoggedIn, setLoggedin] = useState(false)\n  const[initialize, setInit] = useState(false)\n  const[userObj, setUserObj] = useState(null)\n  useEffect(()=>{\n    authService.onAuthStateChanged((user)=>{\n      if(user){\n        setUserObj({user})\n        setLoggedin(true);\n\n      }\n      else{\n        setLoggedin(false);\n      }\n      setInit(true)\n    })\n  },[])\n  \n  return(\n    <>\n    {\n      initialize ? <AppRouter isLoggedIn={isLoggedIn} userObj={userObj}/> : \"initialize\"\n    }\n    </>\n    );\n}\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}