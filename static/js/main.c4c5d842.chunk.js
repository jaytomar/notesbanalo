(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{23:function(e,t,n){},27:function(e,t,n){},44:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n(2),c=n.n(a),s=n(29),i=n.n(s),l=(n(44),n(12)),r=(n(23),n(24)),u=n.n(r),d=n(30),b=n(18);n(46),n(48);console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/notesbanalo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyA080kJfAPwLpYxRMozXm1z2gYSUobiwnw",REACT_APP_APP_ID:"1:592029749801:web:187b77d0eabbec763d0238",REACT_APP_AUTH_DOMAIN:"notesbanalo.firebaseapp.com",REACT_APP_DATABASE_URL:"https://notesbanalo.firebaseio.com",REACT_APP_MESSAGING_ID:"592029749801",REACT_APP_PROJECT_URL:"notesbanalo",REACT_APP_STORAGE_BUCKET:"notesbanalo.appspot.com"}));b.a.initializeApp({apiKey:"AIzaSyA080kJfAPwLpYxRMozXm1z2gYSUobiwnw",authDomain:"notesbanalo.firebaseapp.com",databaseURL:"https://notesbanalo.firebaseio.com",projectId:"notesbanalo",storageBucket:"notesbanalo.appspot.com",messagingSenderId:"592029749801",appId:"1:592029749801:web:187b77d0eabbec763d0238"});var j=b.a,h=b.a.auth(),m=b.a.firestore(),O=function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new j.auth.GoogleAuthProvider,e.next=3,h.signInWithPopup(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{}),Object(o.jsx)("div",{className:"form-container",children:Object(o.jsxs)("div",{className:"form",children:[Object(o.jsx)("h1",{children:"notebanalo"}),Object(o.jsx)("button",{onClick:e,children:"Login with Google"})]})})]})},p=n(37),f=n(31),x=n(32),v=n(13),g=n(38),C=n(36),S=n(33),w=n.n(S);n(27);function k(e){var t=e.target.parentNode.value||e.target.value,n=window.getSelection().getRangeAt(0).startContainer.parentNode.nodeName,o=window.getSelection().getRangeAt(0).startContainer.parentNode.style.backgroundColor;"H1"===n||"H2"===n||"H3"===n?t==n?document.execCommand("formatblock",!1,"div"):document.execCommand("formatblock",!1,t):"H1"===t||"H2"===t||"H3"===t?("B"!==n&&"I"!==n&&"STRIKE"!==n&&"U"!==n||document.execCommand("removeFormat",!1),document.execCommand("formatblock",!1,t)):document.execCommand(t,!1),"hiliteColor"===t&&(""!==o?document.execCommand("removeFormat",!1):document.execCommand("hiliteColor",!1,"#DAF7A6")),"formatBlock"===t&&document.execCommand(t,!1)}var y=function(e){var t=e.position.x+e.position.width/2-200,n={position:"absolute",top:e.position.y-30+window.scrollY,left:t};return Object(o.jsx)("div",{style:n,className:"menu-container",children:Object(o.jsxs)("div",{className:"menu",children:[Object(o.jsxs)("button",{onClick:k,value:"italic",children:[" ",Object(o.jsx)("i",{className:"fas fa-italic"})]}),Object(o.jsxs)("button",{onClick:k,value:"bold",children:[" ",Object(o.jsx)("i",{className:"fas fa-bold"})," "]}),Object(o.jsxs)("button",{onClick:k,value:"underline",children:[" ",Object(o.jsx)("i",{className:"fas fa-underline"})," "]}),Object(o.jsxs)("button",{onClick:k,value:"strikethrough",children:[" ",Object(o.jsx)("i",{className:"fas fa-strikethrough"})," "]}),Object(o.jsxs)("button",{onClick:k,value:"H1",children:[" ",Object(o.jsx)("b",{children:"H1"}),"  "]}),Object(o.jsxs)("button",{onClick:k,value:"H2",children:[" ",Object(o.jsx)("b",{children:"H2"}),"  "]}),Object(o.jsxs)("button",{onClick:k,value:"H3",children:[" ",Object(o.jsx)("b",{children:"H3"})]}),Object(o.jsxs)("button",{onClick:k,value:"insertOrderedList",children:[" ",Object(o.jsx)("i",{className:"fas fa-list-ol"})," "]}),Object(o.jsxs)("button",{onClick:k,value:"insertUnorderedList",children:[" ",Object(o.jsx)("i",{className:"fas fa-list-ul"})]}),Object(o.jsxs)("button",{onClick:k,value:"justifyLeft",children:[" ",Object(o.jsx)("i",{className:"fas fa-align-left"})," "]}),Object(o.jsxs)("button",{onClick:k,value:"justifyCenter",children:[Object(o.jsx)("i",{className:"fas fa-align-center"})," "]}),Object(o.jsxs)("button",{onClick:k,value:"justifyRight",children:[" ",Object(o.jsx)("i",{className:"fas fa-align-right"})]}),Object(o.jsxs)("button",{onClick:k,value:"hiliteColor",children:[" ",Object(o.jsx)("i",{className:"fas fa-highlighter"})]})]})})};function A(e){var t=e.target.parentNode.value||e.target.value;"insertHorizontalRule"==t&&(document.execCommand(t,!1),document.execCommand("insertHtml",!1,"<br>")),"formatBlock"==t&&document.execCommand(t,!1)}var N=function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){document.execCommand("insertHTML",!1,"<div contenteditable='false'><img src=".concat(n.result," /> </div>"))},n.readAsDataURL(t)},D=function(e){var t=e.position.x,n={position:"absolute",top:e.position.y+window.scrollY,left:t};return Object(o.jsx)("div",{style:n,className:"menu-container",children:Object(o.jsxs)("div",{className:"menu",children:[Object(o.jsx)("label",{for:"file-upload",className:"custom-file-upload",children:Object(o.jsx)("i",{className:"fas fa-upload"})}),Object(o.jsx)("input",{id:"file-upload",type:"file",accept:"image/*",onChange:N,className:"image-upload"}),Object(o.jsx)("button",{onClick:A,value:"insertHorizontalRule",children:" divider "})]})})},H=function(){var e,t,n,o=window.getSelection();if(0!==o.rangeCount){var a=o.getRangeAt(0).cloneRange();a.collapse(!1);var c=a.getBoundingClientRect();c&&(e=c.left,t=c.top,n=c.width)}return{x:e,y:t,width:n}},P=function(e){Object(g.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(f.a)(this,n),(a=t.call(this,e)).onKeyDownHandler=function(e){if("."==e.key&&"."==a.state.prevkey){e.preventDefault();var t=H(),n=t.x,o=t.y,c=t.width;a.setState({isSlashMenuOpen:!0,menuPosition:{x:n,y:o,width:c},prevkey:null})}else"."==e.key?a.setState({prevkey:"."}):a.setState({isSlashMenuOpen:!1,prevkey:null})},a.mouseUp=function(){var e=document.getSelection();if("None"!=e.type){var t=H(),n=t.x,o=t.y,c=t.width;"Caret"!=e.type&&a.setState({isMenuOpen:!0,menuPosition:{x:n,y:o,width:c},isSlashMenuOpen:!1})}},a.render=function(){return Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:"App default",onMouseUp:a.mouseUp,onKeyDown:a.onKeyDownHandler,children:Object(o.jsxs)("div",{className:"sheet",children:[a.state.isMenuOpen&&Object(o.jsx)(y,{position:a.state.menuPosition}),a.state.isSlashMenuOpen&&Object(o.jsx)(D,{position:a.state.menuPosition}),Object(o.jsx)(w.a,{className:"editable",html:a.state.html,disabled:!1,onChange:a.onChangeHandler,onMouseDown:a.onMouseDownHandler,spellCheck:"false"}),Object(o.jsx)("button",{onClick:a.SaveDoc,className:"save-btn",children:" save doc"})]})})})},a.state={id:a.props.currentDoc,html:a.props.html,isMenuOpen:!1,isSlashMenuOpen:!1,menuPosition:{x:null,y:null,width:null},prevkey:null},a.onMouseDownHandler=a.onMouseDownHandler.bind(Object(v.a)(a)),a.onChangeHandler=a.onChangeHandler.bind(Object(v.a)(a)),a.mouseUp=a.mouseUp.bind(Object(v.a)(a)),a.onKeyDownHandler=a.onKeyDownHandler.bind(Object(v.a)(a)),a.SaveDoc=a.SaveDoc.bind(Object(v.a)(a)),a}return Object(x.a)(n,[{key:"componentDidUpdate",value:function(){this.props.currentDoc!=this.state.id&&this.setState({id:this.props.currentDoc,html:this.props.html})}},{key:"SaveDoc",value:function(){m.collection("users").doc(this.props.userObj.user.uid).collection("notes").doc(this.props.currentDoc.id).update({doc:this.state.html}).then((function(){console.log("succesfully added")}))}},{key:"onMouseDownHandler",value:function(e){document.getSelection().removeAllRanges(),this.state.isMenuOpen&&this.setState({isMenuOpen:!1,isSlashMenuOpen:!1}),this.state.isSlashMenuOpen&&this.setState({isMenuOpen:!1,isSlashMenuOpen:!1})}},{key:"onChangeHandler",value:function(e){this.setState({html:e.target.value,isMenuOpen:!1})}}]),n}(c.a.Component),R=n(58),_=function(e){var t=e.userObj,n=function(e){var t=e.target.id;f(u[t].doc),C(u[t]),s()},c=function(e){var n=e.target.parentNode.id||e.target.id;m.collection("users").doc(t.user.uid).collection("notes").doc(u[n].id).delete().then((function(){console.log("Document successfully deleted!"),s()})),f("document deleted")};Object(a.useEffect)((function(){s()}),[]);var s=function(){t&&(m.collection("users").doc(t.user.uid).collection("notes").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));d(Object(p.a)(t)),C(u[0])})),k(!0))},i=Object(a.useState)([{id:"1234",name:"test",doc:"hello 1"}]),r=Object(l.a)(i,2),u=r[0],d=r[1],b=Object(a.useState)("create or select a document to show its content"),j=Object(l.a)(b,2),O=j[0],f=j[1],x=Object(a.useState)(u[0]),v=Object(l.a)(x,2),g=v[0],C=v[1],S=Object(a.useState)(!1),w=Object(l.a)(S,2),k=(w[0],w[1]),y=Object(a.useState)(1),A=Object(l.a)(y,2),N=A[0],D=A[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsxs)("nav",{children:[Object(o.jsx)("div",{children:Object(o.jsx)("p",{className:"logo",children:"notebanalo"})}),Object(o.jsx)("button",{onClick:function(){h.signOut()},className:"sign-out-btn",children:"sign out"})]})}),Object(o.jsxs)("div",{className:"sidebar",children:[Object(o.jsx)("button",{onClick:function(){D(N+1);var e=Object(R.a)(),n={id:e,createdAt:Date.now(),name:"document "+N,doc:"You can highlight this text to apply styles. type the period (.) key twice for more option"};m.collection("users").doc(t.user.uid).collection("notes").doc(e).set(n),s()},className:"new-doc-btn",children:"new doc"}),Object(o.jsx)("div",{children:u.map((function(e,t){return Object(o.jsxs)("div",{className:"sidebar-btn-container",children:[Object(o.jsx)("button",{className:"sidebar-btn",onClick:n,id:t,children:e.name}),Object(o.jsx)("button",{className:"delete-btn",onClick:c,id:t,children:Object(o.jsx)("i",{className:"fas fa-trash-alt"})})]},t)}))})]}),Object(o.jsx)(P,{userObj:t,html:O,currentDoc:g})]})},M=n(34),E=n(5),T=function(e){var t=e.isLogged,n=e.userObj;return Object(o.jsx)(M.a,{children:Object(o.jsx)(E.c,{children:t?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(E.a,{exact:!0,path:"/",children:Object(o.jsx)("div",{className:"",children:Object(o.jsx)(_,{userObj:n})})})}):Object(o.jsx)(E.a,{exact:!0,path:"/",children:Object(o.jsx)(O,{})})})})},U=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),i=Object(l.a)(s,2),r=i[0],u=i[1],d=Object(a.useState)(null),b=Object(l.a)(d,2),j=b[0],m=b[1];return Object(a.useEffect)((function(){h.onAuthStateChanged((function(e){e?(m({user:e}),c(!0)):c(!1)})),u(!0)}),[]),Object(o.jsx)(o.Fragment,{children:r?Object(o.jsx)(T,{isLogged:n,userObj:j}):"initialize"})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),o(e),a(e),c(e),s(e)}))};i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(U,{})}),document.getElementById("root")),L()}},[[56,1,2]]]);
//# sourceMappingURL=main.c4c5d842.chunk.js.map